{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\salman\\\\Downloads\\\\student_clubs_project_final\\\\Student clubs code\\\\student-club-app\\\\frontend\\\\src\\\\ProtectedRoute.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Navigate, useLocation } from \"react-router-dom\";\nimport { getToken } from \"./auth\";\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s();\n  const token = getToken();\n  const location = useLocation();\n  const [showMessage, setShowMessage] = useState(false);\n  useEffect(() => {\n    if (!token) {\n      setShowMessage(true);\n    }\n  }, [token]);\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"bg-gray-900 min-h-screen flex justify-center items-center text-white\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      transition: {\n        duration: 0.6\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-6 rounded-lg shadow-lg w-96 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this), showMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-4 text-red-400\",\n          children: \"Please log in to access this page.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          transition: {\n            delay: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\",\n            state: {\n              from: location\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this);\n  }\n  return children;\n};\n_s(ProtectedRoute, \"uTaCztIFa1HehT423RTFYYC8UXI=\", false, function () {\n  return [useLocation];\n});\n_c = ProtectedRoute;\nexport default ProtectedRoute;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["useEffect","useState","Navigate","useLocation","getToken","motion","jsxDEV","_jsxDEV","ProtectedRoute","children","_s","token","location","showMessage","setShowMessage","div","className","initial","opacity","animate","transition","duration","fileName","_jsxFileName","lineNumber","columnNumber","delay","to","state","from","_c","$RefreshReg$"],"sources":["C:/Users/salman/Downloads/student_clubs_project_final/Student clubs code/student-club-app/frontend/src/ProtectedRoute.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\nimport { getToken } from \"./auth\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst ProtectedRoute = ({ children }) => {\r\n  const token = getToken();\r\n  const location = useLocation();\r\n  const [showMessage, setShowMessage] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      setShowMessage(true);\r\n    }\r\n  }, [token]);\r\n\r\n  if (!token) {\r\n    return (\r\n      <motion.div\r\n        className=\"bg-gray-900 min-h-screen flex justify-center items-center text-white\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ duration: 0.6 }}\r\n      >\r\n        <div className=\"bg-gray-800 p-6 rounded-lg shadow-lg w-96 text-center\">\r\n          <h2 className=\"text-xl font-bold mb-4\">Access Denied</h2>\r\n          {showMessage && (\r\n            <p className=\"mb-4 text-red-400\">\r\n              Please log in to access this page.\r\n            </p>\r\n          )}\r\n          {/* Redirect after 2 seconds */}\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            transition={{ delay: 1 }}\r\n          >\r\n            <Navigate to=\"/login\" state={{ from: location }} />\r\n          </motion.div>\r\n        </div>\r\n      </motion.div>\r\n    );\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,SAASC,QAAQ,QAAQ,QAAQ;AACjC,SAASC,MAAM,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACvC,MAAMC,KAAK,GAAGP,QAAQ,CAAC,CAAC;EACxB,MAAMQ,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAErDD,SAAS,CAAC,MAAM;IACd,IAAI,CAACW,KAAK,EAAE;MACVG,cAAc,CAAC,IAAI,CAAC;IACtB;EACF,CAAC,EAAE,CAACH,KAAK,CAAC,CAAC;EAEX,IAAI,CAACA,KAAK,EAAE;IACV,oBACEJ,OAAA,CAACF,MAAM,CAACU,GAAG;MACTC,SAAS,EAAC,sEAAsE;MAChFC,OAAO,EAAE;QAAEC,OAAO,EAAE;MAAE,CAAE;MACxBC,OAAO,EAAE;QAAED,OAAO,EAAE;MAAE,CAAE;MACxBE,UAAU,EAAE;QAAEC,QAAQ,EAAE;MAAI,CAAE;MAAAZ,QAAA,eAE9BF,OAAA;QAAKS,SAAS,EAAC,uDAAuD;QAAAP,QAAA,gBACpEF,OAAA;UAAIS,SAAS,EAAC,wBAAwB;UAAAP,QAAA,EAAC;QAAa;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACxDZ,WAAW,iBACVN,OAAA;UAAGS,SAAS,EAAC,mBAAmB;UAAAP,QAAA,EAAC;QAEjC;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CACJ,eAEDlB,OAAA,CAACF,MAAM,CAACU,GAAG;UACTE,OAAO,EAAE;YAAEC,OAAO,EAAE;UAAE,CAAE;UACxBC,OAAO,EAAE;YAAED,OAAO,EAAE;UAAE,CAAE;UACxBE,UAAU,EAAE;YAAEM,KAAK,EAAE;UAAE,CAAE;UAAAjB,QAAA,eAEzBF,OAAA,CAACL,QAAQ;YAACyB,EAAE,EAAC,QAAQ;YAACC,KAAK,EAAE;cAAEC,IAAI,EAAEjB;YAAS;UAAE;YAAAU,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC;EAEjB;EAEA,OAAOhB,QAAQ;AACjB,CAAC;AAACC,EAAA,CAxCIF,cAAc;EAAA,QAEDL,WAAW;AAAA;AAAA2B,EAAA,GAFxBtB,cAAc;AA0CpB,eAAeA,cAAc;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}